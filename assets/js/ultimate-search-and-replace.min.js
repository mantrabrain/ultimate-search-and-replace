!function(s){"use strict";function e(r,i,o,n){s.ajax({type:"POST",url:usar_object_vars.endpoint+r,data:{usar_ajax_nonce:usar_object_vars.ajax_nonce,action:r,usar_step:i,usar_page:o,usar_data:n},dataType:"json",success:function(i){void 0!==i.message&&(s(".usar-description").remove(),s(".usar-progress-wrap").append('<p class="description usar-description">'+i.message+"</p>")),"done"==i.step?(a("100%"),void 0!==i.next_action?(a("0%",0),e(i.next_action,0,0,i.usar_data)):(s(".usar-processing-wrap").remove(),s(".usar-disabled").removeClass("usar-disabled button-disabled"),window.location=i.url)):(a(i.percentage),e(r,i.step,i.page,i.usar_data))}}).fail(function(e){s(".usar-processing-wrap").remove(),s(".usar-disabled").removeClass("usar-disabled button-disabled"),s("#usar-error-wrap").html('<div class="error"><p>'+usar_object_vars.unknown+"</p></div>"),window.console&&window.console.log&&console.log(e)})}function r(){var r=s("#usar-submit"),a=s("#usar-error-wrap");r.click(function(i){if(i.preventDefault(),!r.hasClass("button-disabled"))if(s("#search_for").val())if(s("#usar-table-select").val()){var o=s(".usar-action-form").serialize().replace(/%5C/g,"#USAR_BACKSLASH#");a.html(""),r.addClass("usar-disabled button-disabled"),s("#usar-submit-wrap").append('<div class="usar-processing-wrap"><div class="spinner is-active usar-spinner"></div><div class="usar-progress-wrap"><div class="usar-progress"></div></div></div>'),s(".usar-progress-wrap").append('<p class="description usar-description">'+usar_object_vars.processing+"</p>"),e("process_search_replace",0,0,o)}else a.html('<div class="error"><p>'+usar_object_vars.no_tables+"</p></div>");else a.html('<div class="error"><p>'+usar_object_vars.no_search+"</p></div>")})}function a(e,r){void 0===r&&(r=150),s(".usar-progress").animate({width:e},r)}function i(e){s("#usar-page-size-slider").slider({value:usar_object_vars.page_size,range:"min",min:1e3,max:5e4,step:1e3,slide:function(e,r){s("#usar-page-size-value").text(r.value),s("#usar_page_size").val(r.value)}})}r(),i()}(jQuery);